<!DOCTYPE html>
<html lang="en">
<head>
    <title>My To Do List</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>

    <div class="nav">
        <h1>Hi, Let's Get it Done :)</h1>
    </div>

    <div class="container">
        <h1>My To Do List</h1>

        <!-- Show "Welcome" message if no tasks exist -->
        <% if (tasks.length === 0) { %>
            <p>Welcome to My To Do List! Start by adding your first task.</p>
            <a href="/tasks/new" class="button">➕ Add Task</a>
        <% } else { %>
            <ul>
                <% tasks.forEach(task => { %>
                    <li>
                        <a href="/tasks/<%= task._id %>"><%= task.title %></a> - <%= task.status %>
                        (<a href="/tasks/<%= task._id %>/edit">Edit</a>)
                        <form action="/tasks/<%= task._id %>?_method=DELETE" method="POST">
                            <button type="submit">Delete</button>
                        </form>
                    </li>
                <% }) %>
            </ul>
        <% } %>

        <div class="task-form">
            <h3>Add a New Task</h3>
            <form action="/tasks" method="POST">
                <input type="text" name="title" placeholder="Task title" required>
                <textarea name="description" placeholder="Task description"></textarea>
                <button type="submit">➕ Add Task</button>
            </form>
        </div>

    </div>

</body>
</html>
